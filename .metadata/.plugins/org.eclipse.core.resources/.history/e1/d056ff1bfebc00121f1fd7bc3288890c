package code.busters.sumobots;

/*
 * The main driver class for the program.  Anything that goes happens in the program happens here. 
 */

//http://www.javacodegeeks.com/2012/12/escaping-the-jvm-heap-for-memory-intensive-applications.html
//http://cnx.org/content/m45733/latest/?collection=col11489/latest
//http://cnx.org/content/m45737/latest/?collection=col11489/latest


import code.busters.sumobots.Splash;
import org.newdawn.slick.AppGameContainer;
import org.newdawn.slick.GameContainer;
import org.newdawn.slick.Image;
import org.newdawn.slick.loading.LoadingList;
import org.newdawn.slick.SlickException;
import org.newdawn.slick.state.StateBasedGame;

public class MainSim extends StateBasedGame {
		
		public static int WinX = 800;
		public static int WinY = 600;
		Image splash = new Image("res/sumobotsimsplash.png");
		
		LoadingList l;
		static boolean loaded = false;
		
        public MainSim() {
        	super("Sumo Bot Simulator 2013");
        	
        	this.addState(new Splash());
            enterState(GameStates.Splash.ordinal());
        }
        
        public void loading(){
        	if (l.getRemainingResources() > 0){
        		loaded = true;
        	}else{
        		loaded = false;
        	}
        }
        
        public static void main(String args[]) {
        		try {
        			AppGameContainer container = new AppGameContainer(new MainSim());
               		container.setDisplayMode(WinX,WinY,false);
               		while (loaded == false){
               			splash.draw(0, 0);
               		}
                    container.start();

                } catch (SlickException e) {
                        e.printStackTrace();
                }
        }
        
        public void initStatesList(GameContainer gc) throws SlickException {
        	this.addState(new BuildState());
        	this.addState(new SimulationState());
        	//this.addState(new Splash());
        	//this.enterState(GameStates.Splash.ordinal());
       } 
        
}